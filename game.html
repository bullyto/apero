<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Animatopia â€¢ Jeu</title>
  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="stylesheet" href="./css/styles.css" />
  <meta name="theme-color" content="#54b4ff">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Animatopia â€¢ Jeu (Starter)</h1>
          <p id="who">â€”</p>
        </div>
      </div>
      <nav class="nav">
        <a class="pill" href="./index.html">Accueil</a>
        <a class="pill" href="./shop.html">Boutique</a>
        <a class="pill active" href="./game.html">Jeu</a>
      </nav>
    </header>

    <div class="gameWrap" style="margin-top:14px">
      <section class="card">
        <h2>Room / Map</h2>
        <p class="muted">Chaque map = une room. Le chat est indÃ©pendant et ne montre pas lâ€™historique avant ton arrivÃ©e. Max 30 messages.</p>

        <div class="row">
          <div style="flex:1;min-width:220px">
            <label>Map dâ€™accueil</label>
            <div class="notice" style="margin:0">ğŸŒ³ Pied de lâ€™arbre (auto)</div>
          </div>
<div style="flex:1;min-width:220px">
            <label for="mountSelect">Monture active</label>
            <select id="mountSelect"></select>
          </div>
          <div style="flex:1;min-width:220px">
            <label for="petSelect">Familier</label>
            <select id="petSelect"></select>
          </div>
        </div>

        <div class="hr"></div>

        <div class="canvasBox">
          <canvas id="gameCanvas" width="900" height="420"></canvas>

          <div class="hudTop">
            <div class="chip">Room: <strong id="roomName">â€”</strong></div>
            <div class="chip">Logic: <strong id="roomLogic">â€”</strong></div>
            <div class="chip" id="mountState">Monture: â€”</div>
            <div class="chip" id="petState">Familier: â€”</div>
            <div class="chip" id="itemState">Objet actif: â€”</div>
          </div>

          <div class="hudBottom">
            <div class="invBar" id="invBar" aria-label="Inventaire objets (starter)"></div>
            <div class="row" style="margin-left:auto">
              <button class="btn" id="btnHome" type="button">ğŸ  Accueil</button>
              <button class="btn primary" id="btnShop" type="button">ğŸ›’ Boutique</button>
            </div>
          </div>
        </div>

        <div class="notice" style="margin-top:12px">
          ContrÃ´les : â† / â†’ (ou A/Q et D) â€¢ Saut : â†‘ (ou Z/W ou espace). <br>
          Cette dÃ©mo est un <strong>placeholder</strong> pour brancher tes vraies maps, montures et objets.
        </div>
      </section>

      <aside class="card chatBox">
        <h2>Chat de la room</h2>
        <p class="muted">Couleur diffÃ©rente par joueur. Limite 30 messages.</p>

        <div class="chatLog" id="chatLog" aria-live="polite"></div>

        <form id="chatForm" class="chatInput">
          <input class="input" id="chatText" maxlength="140" placeholder="Ã‰cris un messageâ€¦" />
          <button class="btn primary" type="submit">Envoyer</button>
        </form>

        <div class="notice">
          ModÃ©ration (Ã  brancher cÃ´tÃ© serveur) : mute 5-15 min â€¢ prison 10-40 min â€¢ tÃ©lÃ©port map.
        </div>
      </aside>
    </div>

    <div class="footer">Animatopia â€¢ Jeu (Starter)</div>
  </div>

  <script type="module" src="./js/game_page.js"></script>
</body>
</html>
