<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Animatopia — Éditeur de zones (sol/eau)</title>
  <link rel="stylesheet" href="tools/map-editor/styles.css"/>
</head>
<body>
  <header class="top">
    <div class="brand">
      <div class="dot"></div>
      <div>
        <div class="t1">Animatopia</div>
        <div class="t2">Éditeur de zones — 1248×832 • tiles 16px (78×52)</div>
      </div>
    </div>

    <div class="controls">
      <label class="lbl">
        Map
        <select id="mapSelect"></select>
      </label>

      <label class="lbl">
        Outil
        <select id="toolSelect">
          <option value="paint">Peindre</option>
          <option value="erase">Effacer (AIR)</option>
        </select>
      </label>

      <label class="lbl">
        Taille pinceau
        <select id="brushSelect">
          <option value="1">1×1</option>
          <option value="2">2×2</option>
          <option value="3">3×3</option>
          <option value="4">4×4</option>
        </select>
      </label>

      <label class="chk">
        <input type="checkbox" id="gridToggle" checked/>
        Grille
      </label>

      <label class="chk">
        <input type="checkbox" id="overlayToggle" checked/>
        Overlay
      </label>

      <button id="saveBtn" class="btn">Exporter JSON</button>
      <button id="loadBtn" class="btn ghost">Recharger JSON</button>
    </div>
  </header>

  <main class="main">
    <section class="left">
      <div class="palette">
        <button class="swatch air active" data-val="0">
          AIR <span>0</span>
        </button>
        <button class="swatch solid" data-val="1">
          SOL <span>1</span>
        </button>
        <button class="swatch water" data-val="2">
          EAU <span>2</span>
        </button>
        <button class="swatch cave" data-val="3">
          CAVE AIR <span>3</span>
        </button>
      </div>

      <div class="hint">
        <div><b>Astuce</b> : clique/glisse pour peindre. SHIFT = pinceau carré + rapide.</div>
        <div>Export → copie le fichier dans <code>/data/collisions/&lt;map_id&gt;.json</code>.</div>
      </div>

      <div class="stats">
        <div>Cellule: <span id="cellInfo">—</span></div>
        <div>Type: <span id="typeInfo">—</span></div>
        <div>Fichier: <span id="fileInfo">—</span></div>
      </div>
    </section>

    <section class="stage">
      <canvas id="cv" width="1248" height="832"></canvas>
    </section>
  </main>

  <script type="module" src="tools/map-editor/editor.js"></script>
</body>
</html>
